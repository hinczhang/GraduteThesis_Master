<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script>
## 一些笔记
### Urban spatial order: street network orientation, configuration, and entropy
使用角度进行空间信息熵测量。公式为：  
$$H_o = -\sum^n_{i=1} \text{P}(o_i)\log_e \text{P}(o_i)$$  
在这里$o_i$就是空间各个segment的方向角。文章中还提到了归一化和加权问题，但我们这里局域空间较小而且没有参考样本，故不继续深究。
### Advances in spatial entropy measures
标准信息熵公式为:  
$$H(X) = \sum^I_{i=1} p(x_i) \log \left( \frac{1}{p(x_i)} \right)$$  
新的空间熵度量加入了新变量$Z$（邻域转换了$X$的信息）以及$W$（解释了当前的空间配置）。公式为：  
$$H(Z) = MI(Z,W)+H(Z)_W$$  
在这里我们可以得到
$$
MI(Z, W)=\sum_{k=1}^K p\left(w_k\right) \sum_{r=1}^{R_m} p\left(z_r \mid w_k\right) \log \left(\frac{p\left(z_r \mid w_k\right)}{p\left(z_r\right)}\right)
$$
并且
$$
\begin{aligned}
H(Z)_W & =E[H(Z \mid W)] =\sum_{k=1}^K p\left(w_k\right) \sum_{r=1}^{R_m} p\left(z_r \mid w_k\right) \log \left(\frac{1}{p\left(z_r \mid w_k\right)}\right) .
\end{aligned}
$$
具体用处待定。
### Spatial Entropy
可以将原始的熵公式定义为冗余度：  
$$Z = 1 + \frac{\sum_i p_i \ln p_i}{\ln n}, 0 \le Z \le 1$$  
在连续的数值条件下定义为：  
$$Z = \frac{\ln n  + \sum_i p_i \ln p_i}{\ln A}$$
这里的$A$指的是系统面积。  
另外一种定义是信息增益：  
$$I = \ln A + \sum_i p_i \ln \left( \frac{p_i}{\Delta x_i} \right) = \ln n + \sum_i p_i \ln p_i$$  

### Fisher 信息度量
$$I(\theta) = \mathbb{E} \left[\left(\frac{\partial}{\partial \theta} \ln f(x;\theta)\right)^2\right]$$

## 初步可行办法
### 需要获取和量化的要素
可以将走廊两侧的房间、厕所、消防器材等要素作为随机变量，并将其考虑在内来计算走廊的空间熵。在这种情况下，需要选择多个随机变量来描述当前空间的特征，例如“位置”、“房间类型”、“设备类型”，“纹理颜色”等等。通过将空间划分为离散的空间单元，并计算每个空间单元中各个随机变量出现的概率，可以得到随机变量的概率分布函数。将概率分布函数带入空间熵的公式中，即可计算当前空间的空间熵。
### 一个例子
假设有一个长10米、宽2米的走廊，走廊的两侧分别有三个办公室、一个厕所和一个消防器材柜。  
1. 第一步，将走廊划分为离散的空间单元，例如1米×1米的方格。这样，您可以将走廊划分为10个空间单元。  
2. 第二步，选择描述当前空间的随机变量，例如：    
“位置”变量：描述每个空间单元的位置（1-10）。    
“房间类型”变量：描述每个空间单元的房间类型（办公室、厕所、消防器材柜）。    
“设备类型”变量：描述每个空间单元中包含的设备类型（例如，消防器材柜中的设备类型）。

3. 第三步，计算每个随机变量的概率分布。例如，在当前的走廊场景中，假设位置变量的概率分布如下：
    ```
    P(X=1) = 0.1
    P(X=2) = 0.1
    P(X=3) = 0.1
    P(X=4) = 0.1
    P(X=5) = 0.1
    P(X=6) = 0.1
    P(X=7) = 0.1
    P(X=8) = 0.1
    P(X=9) = 0.1
    P(X=10) = 0.1
    ```
    同样，也可以计算其他随机变量的概率分布。
4. 第四步，代入空间熵的公式中进行计算。例如，如果将位置、房间类型和设备类型三个随机变量考虑在内，可以使用空间熵的三元组形式进行计算。

通过以上步骤，可以量化走廊两侧的要素，并计算当前空间的空间熵。  
****
**关于上述第四步**  
1. 确定空间要素的状态空间S：S为所有要素可能的取值的集合。比如，假设在当前空间中，你考虑了三个要素：门、窗户和电灯。那么状态空间S为所有门、窗户和电灯的可能组合，比如{门关、窗户开、灯开}；  
2. 确定每个要素的概率分布P：对于每个要素，你需要确定它的可能取值及其对应的概率。比如，假设当前空间中有4扇门，2个窗户和3个灯。你可以通过观察当前状态来估算每个要素的概率分布，比如：门关的概率为3/4，门开的概率为1/4；窗户开的概率为1/2，窗户关的概率为1/2；灯开的概率为2/3，灯关的概率为1/3。  
3. 计算联合概率分布P(S)：将每个要素的概率分布相乘，即可得到所有要素的联合概率分布。比如，在上述例子中，{门关、窗户开、灯开}的概率为：3/4 × 1/2 × 2/3 = 1/4。  
4. 计算空间熵H(S)：使用空间熵的公式，将联合概率分布P(S)代入计算，即可得到当前空间的空间熵。比如，在上述例子中，空间熵的计算式为：
    $$H(S) = -\log_2 \frac{1}{4} = 2 \ \text{bits}$$